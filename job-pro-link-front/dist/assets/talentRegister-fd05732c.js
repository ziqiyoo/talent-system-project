import{d as Q,a as $,r as j,b as n,o as h,c as q,k as F,w as a,e,h as b,f as r,j as T,F as B,m as G,n as le,p as W,i as X,_ as ee,u as de,q as ue,s as ie,t as te,E as ce}from"./index-8fb991b3.js";import{u as pe,e as me}from"./user-34e0b73d.js";function _e(i){return{all:i=i||new Map,on:function(u,l){var g=i.get(u);g?g.push(l):i.set(u,[l])},off:function(u,l){var g=i.get(u);g&&(l?g.splice(g.indexOf(l)>>>0,1):i.set(u,[]))},emit:function(u,l){var g=i.get(u);g&&g.slice().map(function(s){s(l)}),(g=i.get("*"))&&g.slice().map(function(s){s(u,l)})}}}const Z=_e(),fe=i=>(W("data-v-60d737c6"),i=i(),X(),i),ge=fe(()=>T("p",{class:"label"},"スキル",-1)),ve={class:"dialog-footer"},be=Q({__name:"skillAdd",setup(i){const u=$(!1);let l=j({skillName:"",useDuration:"",level:"",arrayCreadentials:[{id:1,data:""}]}),g=$(),s=1,N=$("追加スキル"),I=$(),x=!0;const Y=()=>{u.value=!0,N.value="追加スキル"},M=j([{value:"HTML・CSS",label:"HTML・CSS"},{value:"JavaScript",label:"JavaScript"},{value:"Java",label:"Java"},{value:"C++",label:"C++"},{value:"なし",label:"なし"}]),S=j([{value:"一般",label:"一般"},{value:"熟練",label:"熟練"},{value:"精通",label:"精通"}]);let A=j([]);const K={skillName:[{required:!0,message:"スキルを選択してください",trigger:"change"}],useDuration:[{required:!0,message:"経験期間を入力してください",trigger:"blur"}],level:[{required:!0,message:"レベルを選択してください",trigger:"change"}]},H=(v,d)=>{u.value=!0,N.value="更新スキル",I.value=v,l.skillName=d.name,l.useDuration=d.useDuration,l.level=d.level,d.credentials.forEach(p=>{l.arrayCreadentials.push({id:s++,data:p})})},P=v=>{A.splice(v,1),x=!x},E=v=>{if(l.arrayCreadentials.length<=1)return!1;l.arrayCreadentials.splice(v,1)},z=()=>{l.arrayCreadentials.push({id:s++,data:""})},L=()=>{l.skillName="",l.level="",l.useDuration="",l.arrayCreadentials=[],setTimeout(()=>{g.value.clearValidate()},30)},f=async()=>{await g.value.validate();let v=[];if(l.arrayCreadentials.forEach(d=>{v.push(d.data)}),N.value=="追加スキル")A.push({name:l.skillName,useDuration:l.useDuration,level:l.level,credentials:v}),x=!x;else if(N.value=="更新スキル"){let d={name:l.skillName,useDuration:l.useDuration,level:l.level,credentials:v};A[I.value]=d}L(),Z.emit("sendSkillData",A),u.value=!1},m=()=>{le.confirm("このダイアログを閉じてよろしいですか?",{confirmButtonText:"確定",cancelButtonText:"キャンセル"}).then(()=>{u.value=!1}),L()};return(v,d)=>{const p=n("el-table-column"),y=n("el-button"),U=n("el-table"),c=n("el-option"),o=n("el-select"),_=n("el-form-item"),D=n("el-input"),w=n("el-col"),C=n("el-row"),k=n("el-form"),J=n("el-dialog");return h(),q(B,null,[ge,(h(),F(U,{data:r(A),key:r(x),border:"","header-cell-style":{background:"#eef1f4",color:"#606266"},"empty-text":"データなし"},{default:a(()=>[e(p,{prop:"name",label:"スキル名",width:"120"}),e(p,{prop:"useDuration",label:"経験期間",width:"120"}),e(p,{prop:"level",label:"レベル",width:"120"}),e(p,{prop:"credentials",label:"証書/資格"}),e(p,{width:"180"},{default:a(t=>[e(y,{type:"primary",onClick:R=>H(t.$index,t.row),class:"option"},{default:a(()=>[b("更新")]),_:2},1032,["onClick"]),e(y,{type:"danger",onClick:R=>P(t.$index),class:"option"},{default:a(()=>[b("削除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),e(y,{type:"primary",plain:"",onClick:Y,class:"addButton"},{default:a(()=>[b("+追加スキル")]),_:1}),e(J,{modelValue:u.value,"onUpdate:modelValue":d[3]||(d[3]=t=>u.value=t),title:r(N),width:"30%",draggable:"","before-close":m},{footer:a(()=>[T("span",ve,[e(y,{type:"primary",onClick:f},{default:a(()=>[b("確定")]),_:1}),e(y,{onClick:m},{default:a(()=>[b("閉じる")]),_:1})])]),default:a(()=>[e(k,{model:r(l),"label-position":"top",rules:K,ref_key:"skillDialogForms",ref:g},{default:a(()=>[e(_,{label:"スキル名",prop:"skillName",style:{"padding-bottom":"12px"}},{default:a(()=>[e(o,{modelValue:r(l).skillName,"onUpdate:modelValue":d[0]||(d[0]=t=>r(l).skillName=t),placeholder:"選んでください",class:"virtual-scroll-select","virtual-scroll":!0,"virtual-scroll-item-size":30,"virtual-scroll-overscan":10,clearable:""},{default:a(()=>[(h(!0),q(B,null,G(M,t=>(h(),F(c,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"経験期間",prop:"useDuration",style:{"padding-bottom":"12px"}},{default:a(()=>[e(D,{modelValue:r(l).useDuration,"onUpdate:modelValue":d[1]||(d[1]=t=>r(l).useDuration=t),placeholder:"月",class:"timeInput"},null,8,["modelValue"])]),_:1}),e(_,{label:"レベル",prop:"level",style:{"padding-bottom":"12px"}},{default:a(()=>[e(o,{modelValue:r(l).level,"onUpdate:modelValue":d[2]||(d[2]=t=>r(l).level=t),placeholder:"選んでください",class:"virtual-scroll-select","virtual-scroll":!0,"virtual-scroll-item-size":30,"virtual-scroll-overscan":10,clearable:""},{default:a(()=>[(h(!0),q(B,null,G(S,t=>(h(),F(c,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"証書/資格",style:{"padding-bottom":"12px"}},{default:a(()=>[(h(!0),q(B,null,G(r(l).arrayCreadentials,(t,R)=>(h(),F(C,{style:{width:"100%"},key:t.id},{default:a(()=>[e(w,{span:22},{default:a(()=>[e(D,{type:"input",placeholder:"証書/資格",modelValue:t.data,"onUpdate:modelValue":O=>t.data=O,style:{width:"99%"},clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(w,{span:2},{default:a(()=>[e(y,{type:"danger",onClick:O=>E(R),class:"deleteInput"},{default:a(()=>[b("-")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),e(y,{class:"addCreadentials",onClick:z,style:{"margin-top":"12px"}},{default:a(()=>[b("+追加証書")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}});const ye=ee(be,[["__scopeId","data-v-60d737c6"]]),De=i=>(W("data-v-067a1768"),i=i(),X(),i),Ve=De(()=>T("p",{class:"label"},"言語能力",-1)),he={class:"dialog-footer"},ke=Q({__name:"languageAdd",setup(i){const u=$(!1);let l=j({languageName:"",conversationLevel:"",readingLevel:"",arrayCreadentials:[{id:1,data:""}]}),g=$(),s=1,N=$("追加言語能力"),I=$(),x=!0;const Y=j([{value:"英語",label:"英語"},{value:"中国語",label:"中国語"},{value:"韓国語",label:"韓国語"},{value:"スペイン語",label:"スペイン語"},{value:"日本語",label:"日本語"},{value:"なし",label:"なし"}]),M=j([{value:"一般",label:"一般"},{value:"熟練",label:"熟練"},{value:"精通",label:"精通"}]);let S=j([]);const A={languageName:[{required:!0,message:"語種を選択してください",trigger:"change"}],conversationLevel:[{required:!0,message:"会話能力を選択してください",trigger:"change"}],readingLevel:[{required:!0,message:"読解力を選択してください",trigger:"change"}]},K=()=>{u.value=!0,N.value="追加言語能力"},H=(v,d)=>{u.value=!0,N.value="更新言語能力",I.value=v,l.languageName=d.language,l.conversationLevel=d.conversationLevel,l.readingLevel=d.readingLevel,d.credentials.forEach(p=>{l.arrayCreadentials.push({id:s++,data:p})})},P=v=>{S.splice(v,1),x=!x},E=v=>{if(l.arrayCreadentials.length<=1)return!1;l.arrayCreadentials.splice(v,1)},z=()=>{l.arrayCreadentials.push({id:s++,data:""})},L=()=>{l.languageName="",l.conversationLevel="",l.readingLevel="",l.arrayCreadentials=[],setTimeout(()=>{g.value.clearValidate()},30)},f=async()=>{await g.value.validate();let v=[];if(l.arrayCreadentials.forEach(d=>{v.push(d.data)}),N.value=="追加言語能力")S.push({language:l.languageName,conversationLevel:l.conversationLevel,readingLevel:l.readingLevel,credentials:v}),x=!x;else{let d={language:l.languageName,conversationLevel:l.conversationLevel,readingLevel:l.readingLevel,credentials:v};S[I.value]=d}L(),Z.emit("sendLanguageData",S),u.value=!1},m=()=>{le.confirm("このダイアログを閉じてよろしいですか?",{confirmButtonText:"確定",cancelButtonText:"キャンセル"}).then(()=>{u.value=!1}),L()};return(v,d)=>{const p=n("el-table-column"),y=n("el-button"),U=n("el-table"),c=n("el-option"),o=n("el-select"),_=n("el-form-item"),D=n("el-input"),w=n("el-col"),C=n("el-row"),k=n("el-form"),J=n("el-dialog");return h(),q(B,null,[Ve,(h(),F(U,{data:r(S),key:r(x),border:"","header-cell-style":{background:"#eef1f4",color:"#606266"},"empty-text":"データなし"},{default:a(()=>[e(p,{prop:"language",label:"語種",width:"120"}),e(p,{prop:"conversationLevel",label:"会話能力",width:"120"}),e(p,{prop:"readingLevel",label:"読解力",width:"120"}),e(p,{prop:"credentials",label:"証書/資格"}),e(p,{width:"180"},{default:a(t=>[e(y,{type:"primary",onClick:R=>H(t.$index,t.row),class:"option"},{default:a(()=>[b("更新")]),_:2},1032,["onClick"]),e(y,{type:"danger",onClick:R=>P(t.$index),class:"option"},{default:a(()=>[b("削除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),e(y,{type:"primary",plain:"",onClick:K,class:"addButton"},{default:a(()=>[b("+追加言語能力")]),_:1}),e(J,{modelValue:u.value,"onUpdate:modelValue":d[3]||(d[3]=t=>u.value=t),title:r(N),width:"30%",draggable:"","before-close":m},{footer:a(()=>[T("span",he,[e(y,{type:"primary",onClick:f},{default:a(()=>[b("確定")]),_:1}),e(y,{onClick:m},{default:a(()=>[b("閉じる")]),_:1})])]),default:a(()=>[e(k,{model:r(l),"label-position":"top",rules:A,ref_key:"languageDialogForms",ref:g},{default:a(()=>[e(_,{label:"語種",prop:"languageName",style:{"padding-bottom":"12px"}},{default:a(()=>[e(o,{modelValue:r(l).languageName,"onUpdate:modelValue":d[0]||(d[0]=t=>r(l).languageName=t),placeholder:"選んでください",class:"virtual-scroll-select","virtual-scroll":!0,"virtual-scroll-item-size":30,"virtual-scroll-overscan":10,clearable:""},{default:a(()=>[(h(!0),q(B,null,G(Y,t=>(h(),F(c,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"会話能力",prop:"conversationLevel",style:{"padding-bottom":"12px"}},{default:a(()=>[e(o,{modelValue:r(l).conversationLevel,"onUpdate:modelValue":d[1]||(d[1]=t=>r(l).conversationLevel=t),placeholder:"選んでください",class:"virtual-scroll-select","virtual-scroll":!0,"virtual-scroll-item-size":30,"virtual-scroll-overscan":10,clearable:""},{default:a(()=>[(h(!0),q(B,null,G(M,t=>(h(),F(c,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"読解力",prop:"readingLevel",style:{"padding-bottom":"12px"}},{default:a(()=>[e(o,{modelValue:r(l).readingLevel,"onUpdate:modelValue":d[2]||(d[2]=t=>r(l).readingLevel=t),placeholder:"選んでください",class:"virtual-scroll-select","virtual-scroll":!0,"virtual-scroll-item-size":30,"virtual-scroll-overscan":10,clearable:""},{default:a(()=>[(h(!0),q(B,null,G(M,t=>(h(),F(c,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"証書/資格"},{default:a(()=>[(h(!0),q(B,null,G(r(l).arrayCreadentials,(t,R)=>(h(),F(C,{style:{width:"100%"},key:t.id},{default:a(()=>[e(w,{span:22},{default:a(()=>[e(D,{type:"input",placeholder:"証書/資格",modelValue:t.data,"onUpdate:modelValue":O=>t.data=O,style:{width:"99%"},clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(w,{span:2},{default:a(()=>[e(y,{type:"danger",onClick:O=>E(R),class:"deleteInput"},{default:a(()=>[b("-")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),e(y,{class:"addCreadentials",onClick:z,style:{"margin-top":"12px"}},{default:a(()=>[b("+追加証書")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}});const xe=ee(ke,[["__scopeId","data-v-067a1768"]]),we=i=>(W("data-v-10eb7373"),i=i(),X(),i),Ce=we(()=>T("p",{class:"label"},"職務経歴",-1)),Ne={class:"dialog-footer"},Le=Q({__name:"careerAdd",setup(i){const u=$(!1);let l=j({careerName:"",startDate:"",endDate:"",description:""}),g=$(),s=$("追加職務経歴"),N=$(),I=!0;const x=()=>{u.value=!0,s.value="追加職務経歴"};let Y=j([]);const M=f=>{let m=l.endDate;if(m)return f.getTime()>new Date(m).getTime()-1*24*60*60*1e3},S=f=>{let m=l.startDate;if(m)return f.getTime()<new Date(m).getTime()};let A=j([]);const K={careerName:[{required:!0,message:"職務を入力してください",trigger:"blur"}],startDate:[{required:!0,message:"開始時間を選択してください",trigger:"change"}],endDate:[{required:!0,message:"終了時間を選択してください",trigger:"change"}],description:[{required:!0,message:"職務経歴説明を入力してください",trigger:"blur"}]},H=(f,m)=>{u.value=!0,s.value="更新職務経歴",N.value=f,l.careerName=m.careerName,l.startDate=m.duration.split("—")[0],l.endDate=m.duration.split("—")[1],l.description=m.description},P=f=>{Y.splice(f,1),I=!I},E=()=>{l.careerName="",l.startDate="",l.endDate="",l.description="",setTimeout(()=>{g.value.clearValidate()},30)},z=async()=>{if(await g.value.validate(),s.value=="追加職務経歴")Y.push({careerName:l.careerName,duration:l.startDate+" — "+l.endDate,description:l.description}),A.push({careerName:l.careerName,startDate:l.startDate,endDate:l.endDate,description:l.description}),I=!I;else{let f={careerName:l.careerName,duration:l.startDate+" — "+l.endDate,description:l.description},m={careerName:l.careerName,startDate:l.startDate,endDate:l.endDate,description:l.description};Y[N.value]=f,A[N.value]=m}E(),Z.emit("sendCareerData",A),u.value=!1},L=()=>{le.confirm("このダイアログを閉じてよろしいですか?",{confirmButtonText:"確定",cancelButtonText:"キャンセル"}).then(()=>{u.value=!1}),E()};return(f,m)=>{const v=n("el-table-column"),d=n("el-button"),p=n("el-table"),y=n("el-input"),U=n("el-form-item"),c=n("el-date-picker"),o=n("el-col"),_=n("el-row"),D=n("el-form"),w=n("el-dialog");return h(),q(B,null,[Ce,(h(),F(p,{data:r(Y),key:r(I),border:"","header-cell-style":{background:"#eef1f4",color:"#606266"},"empty-text":"データなし"},{default:a(()=>[e(v,{prop:"careerName",label:"職務",width:"140"}),e(v,{prop:"duration",label:"時間",width:"210"}),e(v,{prop:"description",label:"職務経歴説明"}),e(v,{width:"180"},{default:a(C=>[e(d,{type:"primary",onClick:k=>H(C.$index,C.row),class:"option"},{default:a(()=>[b("更新")]),_:2},1032,["onClick"]),e(d,{type:"danger",onClick:k=>P(C.$index),class:"option"},{default:a(()=>[b("削除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),e(d,{type:"primary",plain:"",onClick:x,class:"addButton"},{default:a(()=>[b("+追加職務経歴")]),_:1}),e(w,{modelValue:u.value,"onUpdate:modelValue":m[4]||(m[4]=C=>u.value=C),title:r(s),width:"30%",draggable:"","before-close":L},{footer:a(()=>[T("span",Ne,[e(d,{type:"primary",onClick:z},{default:a(()=>[b("確定")]),_:1}),e(d,{onClick:L},{default:a(()=>[b("閉じる")]),_:1})])]),default:a(()=>[e(D,{model:r(l),"label-position":"top",rules:K,ref_key:"careerDialogForms",ref:g},{default:a(()=>[e(U,{label:"職務名",prop:"careerName",style:{"padding-bottom":"12px"}},{default:a(()=>[e(y,{modelValue:r(l).careerName,"onUpdate:modelValue":m[0]||(m[0]=C=>r(l).careerName=C),placeholder:"",class:"timeInput"},null,8,["modelValue"])]),_:1}),e(_,{style:{"padding-bottom":"12px"}},{default:a(()=>[e(o,{span:12,xs:24,class:"left"},{default:a(()=>[e(U,{label:"開始時間",prop:"startDate",class:"select"},{default:a(()=>[e(c,{modelValue:r(l).startDate,"onUpdate:modelValue":m[1]||(m[1]=C=>r(l).startDate=C),type:"date",placeholder:"開始時間","value-format":"YYYY-MM-DD","disabled-date":M,clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{span:12,xs:24,class:"right"},{default:a(()=>[e(U,{label:"終了時間",prop:"endDate",class:"select"},{default:a(()=>[e(c,{modelValue:r(l).endDate,"onUpdate:modelValue":m[2]||(m[2]=C=>r(l).endDate=C),type:"date",placeholder:"終了時間","value-format":"YYYY-MM-DD","disabled-date":S,clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(U,{label:"職務経歴説明",prop:"description",style:{"padding-bottom":"12px"}},{default:a(()=>[e(y,{modelValue:r(l).description,"onUpdate:modelValue":m[3]||(m[3]=C=>r(l).description=C),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}});const Ue=ee(Le,[["__scopeId","data-v-10eb7373"]]),$e=i=>(W("data-v-d97ff0ea"),i=i(),X(),i),Ie=$e(()=>T("p",{class:"label"},"項目経歴",-1)),Te={class:"dialog-footer"},Ye=Q({__name:"projectAdd",setup(i){const u=$(!1);let l=j({projectName:"",startDate:"",endDate:"",description:"",URLList:[{id:1,url:""}]}),g=$(),s=1,N=$("追加項目経歴"),I=$(),x=!0;const Y=()=>{u.value=!0,N.value="追加項目経歴"};let M=j([]),S=j([]);const A={projectName:[{required:!0,message:"職務を入力してください",trigger:"blur"}],startDate:[{required:!0,message:"開始時間を選択してください",trigger:"change"}],endDate:[{required:!0,message:"終了時間を選択してください",trigger:"change"}],description:[{required:!0,message:"職務経歴説明を入力してください",trigger:"blur"}]},K=(d,p)=>{u.value=!0,N.value="更新項目経歴",I.value=d,l.projectName=p.projectName,l.startDate=p.duration.split("—")[0],l.endDate=p.duration.split("—")[1],l.description=p.description,p.media.forEach(y=>{l.URLList.push({id:s++,url:y})})},H=d=>{M.splice(d,1),x=!x},P=d=>{let p=l.endDate;if(p)return d.getTime()>new Date(p).getTime()-1*24*60*60*1e3},E=d=>{let p=l.startDate;if(p)return d.getTime()<new Date(p).getTime()},z=d=>{if(l.URLList.length<=1)return!1;l.URLList.splice(d,1)},L=()=>{l.URLList.push({id:s++,url:""})},f=()=>{l.projectName="",l.startDate="",l.endDate="",l.description="",l.URLList=[],setTimeout(()=>{g.value.clearValidate()},30)},m=async()=>{await g.value.validate();let d=[];if(l.URLList.forEach(p=>{d.push(p.url)}),N.value=="追加項目経歴")M.push({projectName:l.projectName,duration:l.startDate+" — "+l.endDate,description:l.description,media:d}),S.push({projectName:l.projectName,startDate:l.startDate,endDate:l.endDate,description:l.description,media:d}),x=!x;else{let p={projectName:l.projectName,duration:l.startDate+" — "+l.endDate,description:l.description,media:d},y={projectName:l.projectName,startDate:l.startDate,endDate:l.endDate,description:l.description,media:d};M[I.value]=p,S[I.value]=y}f(),Z.emit("sendProjectData",S),u.value=!1},v=()=>{le.confirm("このダイアログを閉じてよろしいですか?",{confirmButtonText:"確定",cancelButtonText:"キャンセル"}).then(()=>{u.value=!1}),f()};return(d,p)=>{const y=n("el-table-column"),U=n("el-button"),c=n("el-table"),o=n("el-input"),_=n("el-form-item"),D=n("el-date-picker"),w=n("el-col"),C=n("el-row"),k=n("el-form"),J=n("el-dialog");return h(),q(B,null,[Ie,(h(),F(c,{data:r(M),key:r(x),border:"","header-cell-style":{background:"#eef1f4",color:"#606266"},"empty-text":"データなし"},{default:a(()=>[e(y,{prop:"projectName",label:"項目名",width:"140"}),e(y,{prop:"duration",label:"時間",width:"210"}),e(y,{prop:"description",label:"項目経歴説明"}),e(y,{prop:"media",label:"作品"}),e(y,{width:"180"},{default:a(t=>[e(U,{type:"primary",onClick:R=>K(t.$index,t.row),class:"option"},{default:a(()=>[b("更新")]),_:2},1032,["onClick"]),e(U,{type:"danger",onClick:R=>H(t.$index),class:"option"},{default:a(()=>[b("削除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),e(U,{type:"primary",plain:"",onClick:Y,class:"addButton"},{default:a(()=>[b("+追加項目経歴")]),_:1}),e(J,{modelValue:u.value,"onUpdate:modelValue":p[4]||(p[4]=t=>u.value=t),title:r(N),width:"30%",draggable:"","before-close":v},{footer:a(()=>[T("span",Te,[e(U,{type:"primary",onClick:m},{default:a(()=>[b("確定")]),_:1}),e(U,{onClick:v},{default:a(()=>[b("閉じる")]),_:1})])]),default:a(()=>[e(k,{model:r(l),"label-position":"top",rules:A,ref_key:"projectDialogForms",ref:g},{default:a(()=>[e(_,{label:"項目名",prop:"projectName",class:"input",style:{"padding-bottom":"12px"}},{default:a(()=>[e(o,{modelValue:r(l).projectName,"onUpdate:modelValue":p[0]||(p[0]=t=>r(l).projectName=t),placeholder:""},null,8,["modelValue"])]),_:1}),e(C,{style:{"padding-bottom":"12px"}},{default:a(()=>[e(w,{span:11,xs:24,class:"left"},{default:a(()=>[e(_,{label:"開始時間",prop:"startDate"},{default:a(()=>[e(D,{modelValue:r(l).startDate,"onUpdate:modelValue":p[1]||(p[1]=t=>r(l).startDate=t),type:"date",placeholder:"開始時間","value-format":"YYYY-MM-DD","disabled-date":P,clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(w,{span:13,xs:24,class:"right"},{default:a(()=>[e(_,{label:"終了時間",prop:"endDate",class:"select"},{default:a(()=>[e(D,{modelValue:r(l).endDate,"onUpdate:modelValue":p[2]||(p[2]=t=>r(l).endDate=t),type:"date",placeholder:"終了時間","value-format":"YYYY-MM-DD","disabled-date":E,clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_,{label:"項目経歴説明",prop:"description",style:{"padding-bottom":"12px"}},{default:a(()=>[e(o,{modelValue:r(l).description,"onUpdate:modelValue":p[3]||(p[3]=t=>r(l).description=t),type:"textarea",class:"input"},null,8,["modelValue"])]),_:1}),e(_,{label:"証書/資格"},{default:a(()=>[(h(!0),q(B,null,G(r(l).URLList,(t,R)=>(h(),F(C,{style:{width:"100%"},key:t.id},{default:a(()=>[e(w,{span:22},{default:a(()=>[e(o,{type:"input",placeholder:"証書/資格",modelValue:t.url,"onUpdate:modelValue":O=>t.url=O,style:{width:"99%"},clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(w,{span:2},{default:a(()=>[e(U,{type:"danger",onClick:O=>z(R),class:"deleteInput"},{default:a(()=>[b("-")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),e(U,{class:"addCreadentials",onClick:L,style:{"margin-top":"12px"}},{default:a(()=>[b("+追加証書")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}});const Ae=ee(Ye,[["__scopeId","data-v-d97ff0ea"]]),qe=i=>(W("data-v-243e0d0d"),i=i(),X(),i),je=qe(()=>T("p",{class:"label"},"研修履歴",-1)),Se={class:"dialog-footer"},Ee=Q({__name:"courseAdd",setup(i){const u=$(!1);let l=j({courseName:"",attendance:"",startDate:"",pass:""}),g=$(),s=$("追加研修履歴");const N=()=>{u.value=!0,s.value="追加研修履歴"};let I=$(),x=!0,Y=j([]);const M=L=>L.getTime()>Date.now()-864e5,A={courseName:[{required:!0,message:"研修内容を入力してください",trigger:"blur"}],startDate:[{required:!0,message:"受講日を選択してください",trigger:"change"}],attendance:[{required:!0,message:"受講状況を選択してください",trigger:"change"}],pass:[{required:!0,message:"研修結果を入力してください",trigger:"blur"},{validator:(L,f,m)=>{f!=""?(console.log(L,f),f!="合格"&&f!="不合格"?m(new Error('"合格"か"不合格"しか入力できない')):m()):m()},trigger:"blur"}]},K=(L,f)=>{u.value=!0,s.value="更新研修履歴",I.value=L,l.courseName=f.courseName,l.attendance=f.attendance,l.startDate=f.startDate,l.pass=f.pass},H=L=>{Y.splice(L,1),x=!x},P=()=>{l.courseName="",l.startDate="",l.attendance="",l.pass="",setTimeout(()=>{g.value.clearValidate()},30)},E=async()=>{if(await g.value.validate(),s.value=="追加研修履歴")console.log(1111),Y.push({courseName:l.courseName,attendance:l.attendance,startDate:l.startDate,pass:l.pass}),x=!x;else{let L={courseName:l.courseName,attendance:l.attendance,startDate:l.startDate,pass:l.pass};Y[I.value]=L}P(),Z.emit("sendCourseData",Y),u.value=!1},z=()=>{le.confirm("このダイアログを閉じてよろしいですか?",{confirmButtonText:"確定",cancelButtonText:"キャンセル"}).then(()=>{u.value=!1}),P()};return(L,f)=>{const m=n("el-table-column"),v=n("el-button"),d=n("el-table"),p=n("el-input"),y=n("el-form-item"),U=n("el-radio"),c=n("el-radio-group"),o=n("el-col"),_=n("el-date-picker"),D=n("el-row"),w=n("el-form"),C=n("el-dialog");return h(),q(B,null,[je,(h(),F(d,{data:r(Y),key:r(x),border:"","header-cell-style":{background:"#eef1f4",color:"#606266"},"empty-text":"データなし"},{default:a(()=>[e(m,{prop:"courseName",label:"研修内容",width:"140"}),e(m,{prop:"attendance",label:"受講状況",width:"140"}),e(m,{prop:"startDate",label:"受講日",width:"200"}),e(m,{prop:"pass",label:"受講結果"}),e(m,{width:"180"},{default:a(k=>[e(v,{type:"primary",onClick:J=>K(k.$index,k.row),class:"option"},{default:a(()=>[b("更新")]),_:2},1032,["onClick"]),e(v,{type:"danger",onClick:J=>H(k.$index),class:"option"},{default:a(()=>[b("削除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),e(v,{type:"primary",plain:"",onClick:N,class:"addButton"},{default:a(()=>[b("+追加研修履歴")]),_:1}),e(C,{modelValue:u.value,"onUpdate:modelValue":f[4]||(f[4]=k=>u.value=k),title:r(s),width:"30%",draggable:"","before-close":z},{footer:a(()=>[T("span",Se,[e(v,{type:"primary",onClick:E},{default:a(()=>[b("確定")]),_:1}),e(v,{onClick:z},{default:a(()=>[b("閉じる")]),_:1})])]),default:a(()=>[e(w,{model:r(l),"label-position":"top",rules:A,ref_key:"courseDialogForms",ref:g},{default:a(()=>[e(y,{label:"研修内容",prop:"courseName",style:{"padding-bottom":"12px"}},{default:a(()=>[e(p,{modelValue:r(l).courseName,"onUpdate:modelValue":f[0]||(f[0]=k=>r(l).courseName=k),placeholder:"",class:"timeInput"},null,8,["modelValue"])]),_:1}),e(D,{style:{"padding-bottom":"12px"}},{default:a(()=>[e(o,{span:12,xs:24,class:"left"},{default:a(()=>[e(y,{prop:"attendance",label:"受講状況",style:{"margin-top":"20px"}},{default:a(()=>[e(c,{modelValue:r(l).attendance,"onUpdate:modelValue":f[1]||(f[1]=k=>r(l).attendance=k)},{default:a(()=>[e(U,{label:"受講"},{default:a(()=>[b("受講")]),_:1}),e(U,{label:"受講しない"},{default:a(()=>[b("受講しない")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(o,{span:12,xs:24,class:"right"},{default:a(()=>[e(y,{label:"受講日",prop:"startDate",class:"select",style:{"margin-top":"20px"}},{default:a(()=>[e(_,{modelValue:r(l).startDate,"onUpdate:modelValue":f[2]||(f[2]=k=>r(l).startDate=k),type:"date",placeholder:"受講日","value-format":"YYYY-MM-DD","disabled-date":M,clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(y,{label:"受講結果",prop:"pass",style:{"padding-bottom":"12px"}},{default:a(()=>[e(p,{modelValue:r(l).pass,"onUpdate:modelValue":f[3]||(f[3]=k=>r(l).pass=k),placeholder:"合格/不合格"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}});const Me=ee(Ee,[["__scopeId","data-v-243e0d0d"]]);function Be(i){var u={};for(let l in i){let g=typeof i[l];(g!=="string"&&i[l].length>0||g=="string"&&i[l]!==null&&i[l]!==void 0&&i[l]!==""||g=="number"&&i[l]!==null&&i[l]!==void 0&&i[l]!=="")&&(u[l]=i[l])}return u}const ae=i=>(W("data-v-be9810e4"),i=i(),X(),i),Re={class:"talentRegister"},Fe=ae(()=>T("p",{class:"subtitle"},"基本情報",-1)),Pe=["src"],ze=ae(()=>T("p",{class:"subtitle"},"最終教育学歴",-1)),Ke=ae(()=>T("span",{style:{"margin-top":"50px","margin-left":"7px","margin-right":"7px"}},"—",-1)),He=ae(()=>T("p",{class:"subtitle"},"習得能力",-1)),Je={class:"tableAdd"},Oe={class:"tableAdd"},Ze=ae(()=>T("p",{class:"subtitle"},"職務経験",-1)),Ge={class:"tableAdd"},Qe={class:"tableAdd"},We={class:"tableAdd"},Xe=Q({__name:"talentRegister",setup(i){let u=pe(),l=$(),g=de();const s=j({icon:"",userName:"",password:"",email:"",birthday:"",genderKbn:1,mobilePhone:"",countryKbn:"中国",address:"",educationKbn:"",specialty:"",admissionDate:"",graduationDate:"",school:"",skills:[],languages:[],description:"",workHistories:[],projectHistories:[],courses:[]}),N=[{value:"アメリカ",label:"アメリカ"},{value:"中国",label:"中国"},{value:"日本",label:"日本"},{value:"韓国",label:"韓国"},{value:"イギリス",label:"イギリス"}],I=[{value:"専門学校",label:"専門学校"},{value:"修士",label:"修士"},{value:"博士",label:"博士"},{value:"高等学校",label:"高等学校"}],x=c=>c.getTime()>Date.now()-864e5,Y=c=>{let o=s.graduationDate;if(o)return c.getTime()>new Date(o).getTime()-1},M=c=>{let o=s.admissionDate;if(o)return c.getTime()<new Date(o).getTime()+1};ue(()=>{Z.on("sendSkillData",S),Z.on("sendLanguageData",A),Z.on("sendCareerData",K),Z.on("sendProjectData",H),Z.on("sendCourseData",P)});const S=c=>{s.skills=c},A=c=>{s.languages=c},K=c=>{s.workHistories=c},H=c=>{s.projectHistories=c},P=c=>{s.courses=c};let E=!1;const z=c=>{if(c.status!=="ready")return;c.name.substring(c.name.lastIndexOf(".")+1)!=="jpg"?(te.error("写真はJPG形式でなければならない!"),E=!1):c.size&&c.size/1024/1024>2?(te.error("Avatar picture size can not exceed 2MB!"),E=!1):(E=!0,E&&(s.icon=URL.createObjectURL(c.raw)))},L=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/,f=(c,o,_)=>{!L.test(o)&&o!=""?(console.log(c,o),_(new Error("正しいメールアドレスを入力してください！"))):_()},m=/^1(3[0-9]|4[01456879]|5[0-35-9]|6[2567]|7[0-8]|8[0-9]|9[0-35-9])\d{8}$/,y={userName:[{required:!0,message:"IDを入力してください",trigger:"blur"},{validator:async(c,o,_)=>{console.log(c),o!=""&&(await u.nameRule(s.userName)).code=="TAL204"?_(new Error("ユーザー名は既にあります。再度入力してください")):_()},trigger:"blur"}],password:[{required:!0,min:6,message:"パスワードは少なくとも6文字以上で設定してください。",trigger:"blur"},{validator:async(c,o,_)=>{console.log(c),o!=""&&(await u.passwordRule(s.password)).code=="TAL205"?_(new Error("パスワードは既にあります。再度入力してください")):_()},trigger:"blur"}],email:[{required:!0,message:"メールアドレスを入力してください",trigger:"blur"},{required:!0,validator:f,trigger:"blur"}],birthday:[{required:!0,type:"date",message:"生年月日を選んでください",trigger:"change"}],genderKbn:[{required:!0,message:"性別を選んでください",trigger:"change"}],mobilePhone:[{required:!0,message:"電話番号を入力してください",trigger:"blur"},{required:!0,validator:(c,o,_)=>{!m.test(o)&&o!=""?(console.log(c,o),_(new Error("正しい電話番号を入力してください！"))):_()},trigger:"blur"}],countryKbn:[{required:!0,message:"国籍を選んでください",trigger:"change"}]};let U=async()=>{try{await l.value.validate();const c=Be(s);console.log(c);const o=await u.talentLogin(c);console.log("userId:"+o.data),g.push({name:"talentShowcase",params:{talentId:o.data}}),ce({type:"success",message:"登録できる！ID："+o.data})}catch(c){console.log(c),me(c)}};return(c,o)=>{const _=n("el-input"),D=n("el-form-item"),w=n("el-row"),C=n("el-date-picker"),k=n("el-col"),J=n("el-option"),t=n("el-select"),R=n("el-radio"),O=n("el-radio-group"),oe=n("el-icon"),ne=n("el-upload"),se=n("el-button"),re=n("el-form");return h(),q("div",Re,[e(re,{model:s,rules:y,ref_key:"talentForms",ref:l,"label-position":"top"},{default:a(()=>[Fe,e(w,null,{default:a(()=>[e(k,{span:6,xs:24},{default:a(()=>[e(w,null,{default:a(()=>[e(D,{prop:"userName",label:"ユーザー名(ID)",class:"leftForm label"},{default:a(()=>[e(_,{modelValue:s.userName,"onUpdate:modelValue":o[0]||(o[0]=V=>s.userName=V)},null,8,["modelValue"])]),_:1})]),_:1}),e(w,null,{default:a(()=>[e(D,{prop:"mobilePhone",label:"電話番号",class:"leftForm label"},{default:a(()=>[e(_,{modelValue:s.mobilePhone,"onUpdate:modelValue":o[1]||(o[1]=V=>s.mobilePhone=V)},null,8,["modelValue"])]),_:1})]),_:1}),e(w,null,{default:a(()=>[e(D,{prop:"birthday",label:"生年月日",class:"label"},{default:a(()=>[e(C,{modelValue:s.birthday,"onUpdate:modelValue":o[2]||(o[2]=V=>s.birthday=V),type:"date","value-format":"YYYY-MM-DD",placeholder:"生年月日","disabled-date":x,style:{width:"100%"},clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(k,{span:6,xs:24,class:"right"},{default:a(()=>[e(w,null,{default:a(()=>[e(D,{prop:"password",label:"パスワード",class:"rightForm label"},{default:a(()=>[e(_,{type:"password",modelValue:s.password,"onUpdate:modelValue":o[3]||(o[3]=V=>s.password=V),"show-password":""},null,8,["modelValue"])]),_:1})]),_:1}),e(w,null,{default:a(()=>[e(D,{prop:"countryKbn",label:"国籍",class:"rightForm label"},{default:a(()=>[e(t,{modelValue:s.countryKbn,"onUpdate:modelValue":o[4]||(o[4]=V=>s.countryKbn=V),class:"m-1 country"},{default:a(()=>[(h(),q(B,null,G(N,V=>e(J,{key:V.value,label:V.label,value:V.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(w,null,{default:a(()=>[e(D,{prop:"genderKbn",label:"性別",class:"gender label"},{default:a(()=>[e(O,{modelValue:s.genderKbn,"onUpdate:modelValue":o[5]||(o[5]=V=>s.genderKbn=V)},{default:a(()=>[e(R,{label:1},{default:a(()=>[b("男")]),_:1}),e(R,{label:2},{default:a(()=>[b("女")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(k,{span:6,xs:24},{default:a(()=>[e(D,{label:"写真添付",style:{"padding-left":"30px"},class:"label"},{default:a(()=>[e(ne,{class:"avatar-uploader","show-file-list":!1,"auto-upload":!1,"on-change":z},{default:a(()=>[r(E)?(h(),q("img",{key:0,src:s.icon,class:"avatar"},null,8,Pe)):(h(),F(oe,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[e(r(ie))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),e(w,null,{default:a(()=>[e(k,{span:6},{default:a(()=>[e(D,{prop:"email",label:"メールアドレス",class:"label",style:{width:"59%"}},{default:a(()=>[e(_,{modelValue:s.email,"onUpdate:modelValue":o[6]||(o[6]=V=>s.email=V)},null,8,["modelValue"])]),_:1})]),_:1}),e(k,{span:7},{default:a(()=>[e(D,{style:{width:"70%"},label:"住所/アドレス",class:"label"},{default:a(()=>[e(_,{modelValue:s.address,"onUpdate:modelValue":o[7]||(o[7]=V=>s.address=V)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(w,null,{default:a(()=>[e(k,{span:5,class:"leftForm"},{default:a(()=>[ze,e(D,{label:"学位",class:"label",style:{"padding-top":"5px",width:"66%","padding-bottom":"10px"}},{default:a(()=>[e(t,{modelValue:s.educationKbn,"onUpdate:modelValue":o[8]||(o[8]=V=>s.educationKbn=V),class:"m-1 country",placeholder:"学位"},{default:a(()=>[(h(),q(B,null,G(I,V=>e(J,{key:V.value,label:V.label,value:V.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(D,{label:"専攻",class:"label",style:{width:"66%"}},{default:a(()=>[e(_,{modelValue:s.specialty,"onUpdate:modelValue":o[9]||(o[9]=V=>s.specialty=V)},null,8,["modelValue"])]),_:1})]),_:1}),e(k,{span:10,style:{padding:"96px 0px 0px 50px"}},{default:a(()=>[e(w,null,{default:a(()=>[e(D,{label:"学校",class:"label",style:{width:"44%"}},{default:a(()=>[e(_,{modelValue:s.school,"onUpdate:modelValue":o[10]||(o[10]=V=>s.school=V)},null,8,["modelValue"])]),_:1})]),_:1}),e(w,null,{default:a(()=>[e(D,{label:"在学期間",class:"label",style:{"margin-top":"10px"}},{default:a(()=>[e(C,{modelValue:s.admissionDate,"onUpdate:modelValue":o[11]||(o[11]=V=>s.admissionDate=V),type:"date","disabled-date":Y,"value-format":"YYYY-MM-DD",placeholder:"入校年月日",clearable:""},null,8,["modelValue"])]),_:1}),Ke,e(D,{class:"label",style:{"margin-top":"45px"}},{default:a(()=>[e(C,{modelValue:s.graduationDate,"onUpdate:modelValue":o[12]||(o[12]=V=>s.graduationDate=V),type:"date","disabled-date":M,"value-format":"YYYY-MM-DD",placeholder:"卒業年月日",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),He,e(D,null,{default:a(()=>[T("span",Je,[e(ye)])]),_:1}),e(D,null,{default:a(()=>[T("span",Oe,[e(xe)])]),_:1}),e(D,{label:"自己PR",class:"label",style:{width:"60%"}},{default:a(()=>[e(_,{modelValue:s.description,"onUpdate:modelValue":o[13]||(o[13]=V=>s.description=V),type:"textarea"},null,8,["modelValue"])]),_:1}),Ze,e(D,null,{default:a(()=>[T("span",Ge,[e(Ue)])]),_:1}),e(D,null,{default:a(()=>[T("span",Qe,[e(Ae)])]),_:1}),e(D,null,{default:a(()=>[T("span",We,[e(Me)])]),_:1}),e(D,null,{default:a(()=>[e(se,{type:"primary",onClick:r(U),size:"large",style:{"margin-left":"85%","font-size":"16px"}},{default:a(()=>[b("登録")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])])}}});const al=ee(Xe,[["__scopeId","data-v-be9810e4"]]);export{al as default};
